{% extends "base.html" %}

{% block title %}Design System - OpenAver{% endblock %}

{% block extra_css %}
<link href="/static/css/pages/design-system.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="ds-layout">
    <!-- å·¦å´ TOC å´æ¬„ -->
    <nav class="ds-toc">
        <span class="ds-toc-title">Contents</span>
        <a href="#ds-colors">Colors & Typography</a>
        <a href="#ds-fluent">Fluent Tokens</a>
        <a href="#ds-buttons">Buttons</a>
        <a href="#ds-forms">Form Controls</a>
        <a href="#ds-state-matrix">State Matrix</a>
        <a href="#ds-cards">Cards</a>
        <a href="#ds-av-cards">AV Card Variants</a>
        <a href="#ds-file-components">File Components</a>
        <a href="#ds-drag-overlay">Search Drag Overlay</a>
        <a href="#ds-page-states">Page States</a>
        <a href="#ds-gallery-components">Gallery Components</a>
        <a href="#ds-settings-components">Settings Components</a>
        <a href="#ds-page-compositions">Page Compositions</a>
        <a href="#ds-modals">Modals</a>
        <a href="#ds-toasts">Toasts</a>
        <a href="#ds-help-elements">Help Elements</a>
        <a href="#ds-progress">Progress & Feedback</a>
        <a href="#ds-navigation">Navigation</a>
        <a href="#ds-rotating-border">Rotating Border</a>
        <a href="#ds-feedback">Feedback</a>
    </nav>

    <!-- å³å´å…§å®¹ -->
    <div class="ds-content">
        <!-- é é¢æ¨™é¡Œ -->
        <header class="ds-header">
            <div class="ds-header-content">
                <div class="ds-header-text">
                    <h1>OpenAver Design System</h1>
                    <p class="ds-subtitle">DaisyUI + Fluent Design 2 å…ƒä»¶åº«</p>
                </div>

                <!-- Theme Toggle Button -->
                <div class="ds-theme-toggle">
                    <button class="theme-toggle-btn"
                            @click="theme = (theme === 'light' ? 'dim' : 'light')"
                            :title="theme === 'light' ? 'åˆ‡æ›è‡³æ·±è‰²æ¨¡å¼' : 'åˆ‡æ›è‡³æ·ºè‰²æ¨¡å¼'"
                            type="button">
                        <i class="bi" :class="theme === 'light' ? 'bi-moon-stars' : 'bi-sun'"></i>
                        <span class="theme-toggle-label" x-text="theme === 'light' ? 'Light' : 'Dim'"></span>
                    </button>
                </div>
            </div>
        </header>

        <!-- å€å¡Š 1: Colors & Typography (glass æ¨£å¼) -->
        <section id="ds-colors" class="ds-section glass">
            <h2>Colors & Typography</h2>

            <!-- ä¸»é¡Œè‰²ç›¤ï¼ˆå„€è¡¨æ¿åŒ–ï¼‰ -->
            <div class="ds-subsection">
                <h3>Theme Colors</h3>

                <!-- ç¬¬ 1 çµ„ï¼šDaisyUI åŸºç¤è‰²ï¼ˆBase Paletteï¼‰ -->
                <h4 class="ds-group-label" style="margin-top: 1rem;">DaisyUI Base Palette</h4>
                <div class="ds-color-grid">
                    <div class="ds-color-swatch" style="background: var(--color-base-100);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--color-base-100</span>
                            <code class="ds-color-hex" data-var="--color-base-100"></code>
                            <span class="ds-color-usage">Lightest background</span>
                        </div>
                    </div>
                    <div class="ds-color-swatch" style="background: var(--color-base-200);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--color-base-200</span>
                            <code class="ds-color-hex" data-var="--color-base-200"></code>
                            <span class="ds-color-usage">Card background</span>
                        </div>
                    </div>
                    <div class="ds-color-swatch" style="background: var(--color-base-300);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--color-base-300</span>
                            <code class="ds-color-hex" data-var="--color-base-300"></code>
                            <span class="ds-color-usage">Dropdown/Modal</span>
                        </div>
                    </div>
                    <div class="ds-color-swatch" style="background: var(--color-primary);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--color-primary</span>
                            <code class="ds-color-hex" data-var="--color-primary"></code>
                            <span class="ds-color-usage">Primary actions</span>
                        </div>
                    </div>
                </div>

                <!-- ç¬¬ 2 çµ„ï¼šSurface Hierarchyï¼ˆC.2 æ–°å¢è®Šæ•¸ï¼‰ -->
                <h4 class="ds-group-label">Surface Hierarchy (NEW in C.2)</h4>
                <div class="ds-color-grid">
                    <div class="ds-color-swatch" style="background: var(--surface-0);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--surface-0</span>
                            <code class="ds-color-hex" data-var="--surface-0"></code>
                            <span class="ds-color-usage">Body background</span>
                        </div>
                    </div>
                    <div class="ds-color-swatch" style="background: var(--surface-1);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--surface-1</span>
                            <code class="ds-color-hex" data-var="--surface-1"></code>
                            <span class="ds-color-usage">Card, Sidebar</span>
                        </div>
                    </div>
                    <div class="ds-color-swatch" style="background: var(--surface-2);">
                        <div class="ds-color-info">
                            <span class="ds-color-name">--surface-2</span>
                            <code class="ds-color-hex" data-var="--surface-2"></code>
                            <span class="ds-color-usage">Dropdown, Modal</span>
                        </div>
                    </div>
                </div>

            </div>

            <!-- æ–‡å­—è‰² -->
            <div class="ds-subsection">
                <h3>Text Colors</h3>
                <div class="ds-text-samples">
                    <p><span style="color: var(--text-primary); font-weight: 600;">Primary Text</span> <code style="color: var(--text-muted); font-size: 0.85rem;">(--text-primary)</code></p>
                    <p><span style="color: var(--text-secondary);">Secondary Text</span> <code style="color: var(--text-muted); font-size: 0.85rem;">(--text-secondary)</code></p>
                    <p><span style="color: var(--text-muted);">Muted Text</span> <code style="color: var(--text-muted); font-size: 0.85rem;">(--text-muted)</code></p>
                </div>
            </div>

            <!-- å­—å‹ç­‰ç´š -->
            <div class="ds-subsection">
                <h3>Typography Scale</h3>
                <div class="ds-typography">
                    <h1>Heading 1 - Space Grotesk 700</h1>
                    <h2>Heading 2 - Space Grotesk 600</h2>
                    <h3>Heading 3 - Plus Jakarta Sans 600</h3>
                    <h4>Heading 4 - Plus Jakarta Sans 500</h4>
                    <p>Body Text - Plus Jakarta Sans 400, 1rem/1.5</p>
                    <small>Small Text - 0.875rem</small>
                </div>
            </div>
        </section>

        <!-- å€å¡Š 2: Fluent Design Tokens (accent-bar æ¨£å¼) -->
        <section id="ds-fluent" class="ds-section accent-bar">
            <h2>Fluent Design Tokens</h2>

            <!-- åœ“è§’å±•ç¤º -->
            <div class="ds-subsection">
                <h3>Border Radius</h3>
                <div class="ds-radius-grid">
                    <div class="ds-radius-item fluent-rounded-sm">
                        <span>sm (2px)</span>
                    </div>
                    <div class="ds-radius-item fluent-rounded-md">
                        <span>md (4px)</span>
                    </div>
                    <div class="ds-radius-item fluent-rounded-lg">
                        <span>lg (8px)</span>
                    </div>
                    <div class="ds-radius-item fluent-rounded-xl">
                        <span>xl (12px)</span>
                    </div>
                </div>
            </div>

            <!-- å®Œæ•´ Elevation Scale å±•ç¤º -->
            <div class="ds-subsection">
                <h3>Elevation Scale (Complete)</h3>
                <p class="ds-desc">Fluent Design 2 é›™å±¤é™°å½±ç³»çµ±ï¼ŒLight/Dark æ¨¡å¼è‡ªå‹•èª¿æ•´æ·±åº¦</p>

                <div class="ds-elevation-grid">
                    <!-- shadow-2 -->
                    <div class="ds-elevation-item fluent-shadow-2">
                        <span class="ds-elevation-label">shadow-2</span>
                        <span class="ds-elevation-semantic">Small</span>
                        <span class="ds-elevation-usage">Button hover</span>
                    </div>

                    <!-- shadow-4 -->
                    <div class="ds-elevation-item fluent-shadow-4">
                        <span class="ds-elevation-label">shadow-4</span>
                        <span class="ds-elevation-semantic">Medium</span>
                        <span class="ds-elevation-usage">Card default</span>
                    </div>

                    <!-- shadow-8 -->
                    <div class="ds-elevation-item fluent-shadow-8">
                        <span class="ds-elevation-label">shadow-8</span>
                        <span class="ds-elevation-semantic">Large</span>
                        <span class="ds-elevation-usage">Card hover, Dropdown</span>
                    </div>

                    <!-- shadow-16 -->
                    <div class="ds-elevation-item fluent-shadow-16">
                        <span class="ds-elevation-label">shadow-16</span>
                        <span class="ds-elevation-semantic">XLarge</span>
                        <span class="ds-elevation-usage">Modal, Drawer</span>
                    </div>

                    <!-- shadow-28 -->
                    <div class="ds-elevation-item fluent-shadow-28">
                        <span class="ds-elevation-label">shadow-28</span>
                        <span class="ds-elevation-semantic">XXLarge</span>
                        <span class="ds-elevation-usage">Command Bar, FAB</span>
                    </div>

                    <!-- shadow-64 -->
                    <div class="ds-elevation-item fluent-shadow-64">
                        <span class="ds-elevation-label">shadow-64</span>
                        <span class="ds-elevation-semantic">Ambient</span>
                        <span class="ds-elevation-usage">Fullscreen Overlay</span>
                    </div>
                </div>

                <p class="ds-note">ğŸ’¡ Dark theme é™°å½±æ·±åº¦åŠ å€ï¼ˆopacity: 0.24/0.28ï¼‰ï¼Œè‡ªå‹•è·Ÿéš¨ä¸»é¡Œåˆ‡æ›</p>
            </div>

            <!-- Spacing Scale å±•ç¤º -->
            <div class="ds-subsection">
                <h3>Spacing Scale</h3>
                <p class="ds-desc">åŸºæ–¼ 8px åŸºç¤å–®ä½çš„é–“è·ç³»çµ±ï¼Œé©ç”¨æ–¼ padding/margin/gap</p>

                <div class="ds-spacing-grid">
                    <!-- 4px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 4px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">4px</span>
                            <span class="ds-spacing-usage">Hairline gapï¼ˆå¾®èª¿ï¼‰</span>
                        </div>
                    </div>

                    <!-- 8px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 8px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">8px</span>
                            <span class="ds-spacing-usage">Element paddingï¼ˆæŒ‰éˆ•å…§è·ï¼‰</span>
                        </div>
                    </div>

                    <!-- 12px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 12px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">12px</span>
                            <span class="ds-spacing-usage">Small gapï¼ˆè¡¨å–®æ¬„ä½ï¼‰</span>
                        </div>
                    </div>

                    <!-- 16px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 16px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">16px</span>
                            <span class="ds-spacing-usage">Standard gapï¼ˆå¡ç‰‡å€å¡Šï¼‰</span>
                        </div>
                    </div>

                    <!-- 24px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 24px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">24px</span>
                            <span class="ds-spacing-usage">Section gapï¼ˆç« ç¯€é–“è·ï¼‰</span>
                        </div>
                    </div>

                    <!-- 32px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 32px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">32px</span>
                            <span class="ds-spacing-usage">Card paddingï¼ˆå¡ç‰‡å…§è·ï¼‰</span>
                        </div>
                    </div>

                    <!-- 48px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 48px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">48px</span>
                            <span class="ds-spacing-usage">Container gapï¼ˆå€å¡Šé–“è·ï¼‰</span>
                        </div>
                    </div>

                    <!-- 64px -->
                    <div class="ds-spacing-item">
                        <div class="ds-spacing-bar" style="width: 64px; background: var(--color-primary);"></div>
                        <div class="ds-spacing-info">
                            <span class="ds-spacing-size">64px</span>
                            <span class="ds-spacing-usage">Page marginï¼ˆé é¢é‚Šè·ï¼‰</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ¯›ç»ç’ƒæ•ˆæœ -->
            <div class="ds-subsection">
                <h3>Acrylic (Blur)</h3>
                <div class="ds-acrylic-demo">
                    <div class="ds-acrylic-bg">
                        <img src="/static/img/demo/sone-103.jpg" alt="èƒŒæ™¯">
                    </div>
                    <div class="ds-acrylic-overlay fluent-acrylic">
                        <span>.fluent-acrylic</span>
                        <code>blur: 30px, saturate: 140%</code>
                    </div>
                </div>
            </div>

            <!-- Materials Layer System (T8 æ–°å¢) -->
            <div class="ds-subsection">
                <h3>Materials Layer System</h3>
                <p class="ds-desc">
                    Fluent Design 2 æè³ªä¸‰å±¤æ¶æ§‹ï¼šCanvasï¼ˆæ•´é æ°›åœï¼‰â†’ Shellï¼ˆæ¯›ç»ç’ƒå·¥å…·åˆ—ï¼‰â†’ Surfaceï¼ˆå¡ç‰‡é‚Šç•Œæ„Ÿï¼‰ã€‚
                    Light / Dim æ¨¡å¼çš†è‡ªå‹•é©é…ã€‚
                </p>

                <div class="ds-materials-grid">

                    <!-- Layer 1: Canvas (Mica) -->
                    <div class="ds-material-item ds-material-canvas">
                        <div class="ds-material-preview">
                            <div class="ds-material-canvas-demo"></div>
                        </div>
                        <div class="ds-material-info">
                            <span class="ds-material-name">Canvas Layer</span>
                            <span class="ds-material-class">body.fluent-canvas</span>
                            <span class="ds-material-desc">Mica æ°›åœèƒŒæ™¯ â€” å…¨é åº•å±¤æ¼¸å±¤ + noise overlay</span>
                            <div class="ds-material-tokens">
                                <code>--ds-glow-rgb: 90, 200, 250</code>
                                <code>radial-gradient + noise 0.025 opacity</code>
                            </div>
                        </div>
                    </div>

                    <!-- Layer 2: Toolbar (Acrylic Light) -->
                    <div class="ds-material-item ds-material-toolbar">
                        <div class="ds-material-preview">
                            <div class="ds-material-toolbar-demo">
                                <span class="ds-material-toolbar-label">.fluent-toolbar</span>
                            </div>
                        </div>
                        <div class="ds-material-info">
                            <span class="ds-material-name">Toolbar (Shell)</span>
                            <span class="ds-material-class">.fluent-toolbar</span>
                            <span class="ds-material-desc">å·¥å…·åˆ—æ¨™æº– Acrylic â€” è¼•é‡æ¯›ç»ç’ƒï¼ŒèƒŒæ™¯é€å‡ºæ°›åœå±¤</span>
                            <div class="ds-material-tokens">
                                <code>blur: 16px, saturate: 130%</code>
                                <code>bg: var(--bg-header)</code>
                            </div>
                        </div>
                    </div>

                    <!-- Layer 3: Surface Elevation -->
                    <div class="ds-material-item ds-material-surface">
                        <div class="ds-material-preview">
                            <div class="ds-material-surface-demo">
                                <span class="ds-material-surface-label">Surface Card</span>
                            </div>
                        </div>
                        <div class="ds-material-info">
                            <span class="ds-material-name">Surface Elevation</span>
                            <span class="ds-material-class">inset highlight + shadow</span>
                            <span class="ds-material-desc">å¡ç‰‡æè³ªé‚Šç•Œæ„Ÿ â€” é ‚éƒ¨ 1px é«˜å…‰ç·š + Fluent é™°å½±ï¼Œç„¡ blur</span>
                            <div class="ds-material-tokens">
                                <code>inset 0 1px 0 oklch(base-content 8%)</code>
                                <code>+ var(--fluent-shadow-4)</code>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- å°ç…§è¡¨ -->
                <div class="ds-material-table-wrap" style="margin-top: 1.5rem;">
                    <table class="ds-material-table">
                        <thead>
                            <tr>
                                <th>Layer</th>
                                <th>Class / Selector</th>
                                <th>Effect</th>
                                <th>ç”¨é€”</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Canvas</td>
                                <td><code>body.fluent-canvas</code></td>
                                <td>radial-gradient + noise</td>
                                <td>å…¨é  Mica æ°›åœï¼ˆSearch / Settings / Scanner / Helpï¼‰</td>
                            </tr>
                            <tr>
                                <td>Shell</td>
                                <td><code>.fluent-acrylic</code></td>
                                <td>blur(30px) saturate(140%)</td>
                                <td>Sidebar / Offcanvas / Mobile Navbar</td>
                            </tr>
                            <tr>
                                <td>Shell</td>
                                <td><code>.fluent-toolbar</code></td>
                                <td>blur(16px) saturate(130%)</td>
                                <td>é é¢å·¥å…·åˆ— headerï¼ˆsearch-bar / settings-header ç­‰ï¼‰</td>
                            </tr>
                            <tr>
                                <td>Surface</td>
                                <td>inset 0 1px 0 + shadow</td>
                                <td>é ‚éƒ¨é«˜å…‰ + é™°å½±ï¼ˆç„¡ blurï¼‰</td>
                                <td>å¡ç‰‡ã€terminalã€state-page</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p class="ds-note">
                    Canvas å±¤ä½¿ç”¨ <code>body.fluent-canvas:not(.ds-page)</code>ï¼Œæ’é™¤ Design System é è‡ªèº«ï¼ˆDS é æœ‰ç¨ç«‹èƒŒæ™¯å®šç¾©ï¼‰ã€‚
                </p>
            </div>

            <!-- å‹•ç•«æ™‚é•· -->
            <div class="ds-subsection">
                <h3>Motion Duration</h3>
                <div class="ds-duration-list">
                    <div class="ds-duration-item">
                        <span class="ds-duration-name">ultra-fast</span>
                        <span class="ds-duration-value">50ms</span>
                    </div>
                    <div class="ds-duration-item">
                        <span class="ds-duration-name">faster</span>
                        <span class="ds-duration-value">83ms</span>
                    </div>
                    <div class="ds-duration-item">
                        <span class="ds-duration-name">fast</span>
                        <span class="ds-duration-value">167ms</span>
                    </div>
                    <div class="ds-duration-item">
                        <span class="ds-duration-name">normal</span>
                        <span class="ds-duration-value">250ms</span>
                    </div>
                    <div class="ds-duration-item">
                        <span class="ds-duration-name">slow</span>
                        <span class="ds-duration-value">300ms</span>
                    </div>
                    <div class="ds-duration-item">
                        <span class="ds-duration-name">slower</span>
                        <span class="ds-duration-value">400ms</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- å€å¡Š 3: Buttons (glass æ¨£å¼) -->
        <section id="ds-buttons" class="ds-section glass">
            <h2>Buttons</h2>

            <!-- DaisyUI æŒ‰éˆ• -->
            <div class="ds-subsection">
                <h3>DaisyUI Buttons</h3>
                <div class="ds-button-row">
                    <button class="btn btn-primary">Primary</button>
                    <button class="btn btn-secondary">Secondary</button>
                    <button class="btn btn-accent">Accent</button>
                    <button class="btn btn-ghost">Ghost</button>
                    <button class="btn btn-link">Link</button>
                </div>
                <div class="ds-button-row">
                    <button class="btn btn-outline btn-primary">Outline</button>
                    <button class="btn btn-primary btn-sm">Small</button>
                    <button class="btn btn-primary btn-lg">Large</button>
                    <button class="btn btn-primary" disabled>Disabled</button>
                </div>
            </div>

            <!-- è‡ªè¨‚æŒ‰éˆ• -->
            <div class="ds-subsection">
                <h3>Custom Buttons</h3>
                <div class="ds-button-row ds-button-row-dark">
                    <button class="btn-icon"><i class="bi bi-search"></i></button>
                    <button class="btn-icon active"><i class="bi bi-arrow-right"></i></button>
                    <button class="btn-glass">Glass Button</button>
                </div>
                <div class="ds-button-row">
                    <button class="btn-hero btn-hero-primary">
                        <i class="bi bi-play-fill"></i> Hero Primary
                    </button>
                    <button class="btn-hero btn-hero-secondary">
                        <i class="bi bi-clipboard"></i> Hero Secondary
                    </button>
                </div>
            </div>
        </section>

        <!-- å€å¡Š 4: Form Controls (accent-bar æ¨£å¼) -->
        <section id="ds-forms" class="ds-section accent-bar">
            <h2>Form Controls</h2>

            <div class="ds-subsection">
                <h3>Input Fields</h3>
                <p class="ds-desc" style="font-size: 0.85rem; color: var(--text-muted);">
                    <code>form-control</code>ã€<code>form-select</code>ã€<code>form-check</code>ã€<code>form-check-input</code> ç‚º Bootstrap classesï¼Œå·²ç”± DaisyUI override çµ±ä¸€è¦–è¦ºã€‚
                </p>
                <div class="ds-form-grid">
                    <div class="ds-form-item">
                        <label class="form-label">Text Input</label>
                        <input type="text" class="form-control" placeholder="è¼¸å…¥æ–‡å­—...">
                    </div>
                    <div class="ds-form-item">
                        <label class="form-label">Small Input</label>
                        <input type="text" class="form-control form-control-sm" placeholder="å°å‹è¼¸å…¥æ¡†">
                    </div>
                    <div class="ds-form-item">
                        <label class="form-label">Select</label>
                        <select class="form-select">
                            <option>é¸é … 1</option>
                            <option>é¸é … 2</option>
                            <option>é¸é … 3</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="ds-subsection">
                <h3>Spotlight Search (C.6 Acrylic)</h3>
                <p class="ds-desc" style="margin-bottom: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                    è† å›Šå½¢æœå°‹æ¡† + Acrylic æ¯›ç»ç’ƒæ•ˆæœ + å…§å±¤é«˜å…‰ç·šã€‚<br>
                    <strong>Focus ç‹€æ…‹</strong>ï¼šscale(1.02) + ä¸»é¡Œè‰²ç™¼å…‰
                </p>

                <!-- å±•ç¤ºèƒŒæ™¯åœ–ç‰‡ï¼ˆç‚ºäº†é¡¯ç¤º backdrop-filter æ•ˆæœï¼‰-->
                <div style="position: relative; padding: 2rem; border-radius: var(--radius-md); overflow: hidden; background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);">
                    <div class="spotlight-search" style="max-width: 500px; position: relative; z-index: 2;">
                        <i class="bi bi-search search-icon-left"></i>
                        <input type="text" placeholder="æœå°‹ç•ªè™Ÿã€å¥³å„ªæˆ–æ‹–å…¥æª”æ¡ˆ...">
                        <div class="search-actions-right">
                            <button class="btn-icon"><i class="bi bi-x-lg"></i></button>
                            <button class="btn-icon active"><i class="bi bi-arrow-right"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ds-subsection">
                <h3>Checkbox & Toggle</h3>
                <div class="ds-form-row">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="ds-check1" checked>
                        <label class="form-check-label" for="ds-check1">Checkbox</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="ds-switch1" checked>
                        <label class="form-check-label" for="ds-switch1">Toggle Switch</label>
                    </div>
                </div>
            </div>
        </section>

        <!-- å€å¡Š 4.5: State Matrix (glass æ¨£å¼) -->
        <section id="ds-state-matrix" class="ds-section glass">
            <h2>State Matrix</h2>
            <p class="ds-note">æ ¸å¿ƒå…ƒä»¶çš„è¦–è¦ºç‹€æ…‹å±•ç¤ºï¼ˆéäº’å‹•ï¼Œç´” CSS å¼·åˆ¶é¡¯ç¤ºï¼‰</p>

            <!-- Button States -->
            <div class="ds-subsection">
                <h3>Button States</h3>
                <div class="ds-state-matrix">
                    <div class="ds-state-item">
                        <span class="ds-state-label">Default</span>
                        <button class="btn btn-primary">Primary</button>
                    </div>
                    <div class="ds-state-item">
                        <span class="ds-state-label">Hover</span>
                        <button class="btn btn-primary state-hover">Primary</button>
                    </div>
                    <div class="ds-state-item">
                        <span class="ds-state-label">Active</span>
                        <button class="btn btn-primary state-active">Primary</button>
                    </div>
                    <div class="ds-state-item">
                        <span class="ds-state-label">Disabled</span>
                        <button class="btn btn-primary" disabled>Primary</button>
                    </div>
                </div>
            </div>

            <!-- Input States -->
            <div class="ds-subsection">
                <h3>Input States</h3>
                <div class="ds-state-matrix">
                    <div class="ds-state-item">
                        <span class="ds-state-label">Default</span>
                        <input type="text" class="form-control" placeholder="è¼¸å…¥æ–‡å­—..." style="width: 160px;">
                    </div>
                    <div class="ds-state-item">
                        <span class="ds-state-label">Focus</span>
                        <input type="text" class="form-control state-focus" value="èšç„¦ç‹€æ…‹" style="width: 160px;">
                    </div>
                    <div class="ds-state-item">
                        <span class="ds-state-label">Error</span>
                        <input type="text" class="form-control state-error" value="éŒ¯èª¤ç‹€æ…‹" style="width: 160px;">
                    </div>
                    <div class="ds-state-item">
                        <span class="ds-state-label">Disabled</span>
                        <input type="text" class="form-control" value="ç¦ç”¨ç‹€æ…‹" disabled style="width: 160px;">
                    </div>
                </div>
            </div>

            <!-- Card States -->
            <div class="ds-subsection">
                <h3>Card States</h3>
                <div class="ds-state-matrix" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));">
                    <!-- Default -->
                    <div class="ds-state-item">
                        <span class="ds-state-label">Default</span>
                        <div class="gallery-card" style="width: 100%; max-width: 220px;">
                            <div class="gallery-card-img">
                                <div style="width: 100%; aspect-ratio: 3/2; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-sm) var(--radius-sm) 0 0;"></div>
                            </div>
                            <div class="gallery-card-footer">
                                <div class="gallery-card-title">é è¨­ç‹€æ…‹</div>
                                <div class="gallery-card-meta">
                                    <span class="gallery-card-num">DEFAULT</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hover -->
                    <div class="ds-state-item">
                        <span class="ds-state-label">Hover</span>
                        <div class="gallery-card state-hover" style="width: 100%; max-width: 220px;">
                            <div class="gallery-card-img">
                                <div style="width: 100%; aspect-ratio: 3/2; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: var(--radius-sm) var(--radius-sm) 0 0; position: relative;">
                                    <div class="gallery-card-actions">
                                        <button class="btn-glass">æŸ¥çœ‹</button>
                                    </div>
                                </div>
                            </div>
                            <div class="gallery-card-footer">
                                <div class="gallery-card-title">æ‡¸åœç‹€æ…‹</div>
                                <div class="gallery-card-meta">
                                    <span class="gallery-card-num">HOVER</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Selected -->
                    <div class="ds-state-item">
                        <span class="ds-state-label">Selected</span>
                        <div class="gallery-card state-selected" style="width: 100%; max-width: 220px;">
                            <div class="gallery-card-img">
                                <div style="width: 100%; aspect-ratio: 3/2; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: var(--radius-sm) var(--radius-sm) 0 0;"></div>
                            </div>
                            <div class="gallery-card-footer">
                                <div class="gallery-card-title">é¸ä¸­ç‹€æ…‹</div>
                                <div class="gallery-card-meta">
                                    <span class="gallery-card-num">SELECTED</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å€å¡Š 5: Cards (glass æ¨£å¼) -->
        <section id="ds-cards" class="ds-section glass">
            <h2>Cards</h2>

            <div class="ds-subsection">
                <h3>Fluent Card (C.5 Enhanced)</h3>
                <div class="fluent-card" style="max-width: 300px; padding: 1rem; background: var(--bg-card);">
                    <h5>Fluent Card</h5>
                    <p style="color: var(--text-secondary); margin-bottom: 0.5rem;">12px åœ“è§’ + é ‚éƒ¨é«˜å…‰ç·š + shadow-4</p>
                    <p style="color: var(--text-muted); font-size: 0.85rem; margin: 0;">
                        <strong>Hover:</strong> é«˜å…‰ç·šåŠ å¼· + shadow-8 + ä¸»é¡Œè‰²ç™¼å…‰
                    </p>
                </div>
            </div>

            <div class="ds-subsection">
                <h3>Gallery Card</h3>
                <div class="gallery-card ds-gallery-card" style="max-width: 280px;">
                    <div class="gallery-card-img">
                        <img src="/static/img/demo/mide-974.jpg" alt="å°é¢">
                        <div class="gallery-card-actions">
                            <button class="btn-glass">æŸ¥çœ‹</button>
                            <button class="btn-glass">ç·¨è¼¯</button>
                        </div>
                    </div>
                    <div class="gallery-card-footer">
                        <div class="gallery-card-title">ä½œå“æ¨™é¡Œç¯„ä¾‹</div>
                        <div class="gallery-card-meta">
                            <span class="gallery-card-num">MIDE-974</span>
                            <span>2024-01-01</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å€å¡Š 6: AV Card Variantsï¼ˆé‡é»ï¼Œaccent-bar æ¨£å¼ï¼‰-->
        <!-- NOTE: ds-gallery-composition class å¿…é ˆä¿ç•™ â€”â€” search.css:644 çš„
             :is(#ds-gallery-components, .ds-gallery-composition) .hero-card ä¾è³´æ­¤ class
             æä¾› hero-card çš„ object-fit: contain å’Œ letterbox èƒŒæ™¯ï¼ˆT7.5 æ–°å¢çš„ demoï¼‰-->
        <section id="ds-av-cards" class="ds-section accent-bar ds-gallery-composition">
            <h2>AV Card Variants</h2>
            <p class="ds-note">3 ç¨®æ ¸å¿ƒå¡ç‰‡è®Šé«”ç”¨æ–¼ä¸åŒå ´æ™¯ï¼Œçµ±ä¸€ä½¿ç”¨ Fluent Design tokens</p>

            <!-- Preview è®Šé«”ï¼ˆç¶²æ ¼å¡ç‰‡ï¼‰ -->
            <div class="ds-subsection">
                <h3>1. Previewï¼ˆç¶²æ ¼å°é¢ï¼‰</h3>
                <p class="ds-desc">ç”¨æ–¼ Gallery ç¶²æ ¼å±•ç¤ºï¼Œå¼·èª¿å°é¢è¦–è¦ºã€‚çµ±ä¸€å°ºå¯¸ç¶²æ ¼ä½ˆå±€</p>
                <div class="ds-card-demo ds-card-mosaic">
                    <!-- å¤§å¡ (featured) -->
                    <div class="av-card-preview featured">
                        <div class="av-card-preview-img">
                            <img src="/static/img/demo/sone-103.jpg" alt="cover">
                            <div class="av-card-preview-overlay">
                                <button type="button" class="btn-glass-circle" title="æ’­æ”¾å½±ç‰‡"><i class="bi bi-play-fill"></i></button>
                                <button type="button" class="btn-glass-circle" title="è¤‡è£½è·¯å¾‘"><i class="bi bi-clipboard"></i></button>
                            </div>
                            <span class="av-card-preview-badge">HD</span>
                        </div>
                        <div class="av-card-preview-footer">
                            <span class="av-num">SONE-103</span>
                            <span class="av-actress">å¥³å„ªå</span>
                        </div>
                    </div>
                    <!-- å°å¡ 1 (æœ¬åœ°åŒ¹é… - ä»¥æ—‹è½‰å¤–æ¡†æç¤º) -->
                    <!-- .once modifierï¼šæ—‹è½‰ 5 åœˆå¾Œè‡ªå‹•åœæ­¢ï¼Œç”¨æ–¼æœ¬åœ°åŒ¹é…æç¤ºå ´æ™¯ -->
                    <div class="av-card-preview rotating-border-spotlight active once">
                        <div class="av-card-preview-img">
                            <img src="/static/img/demo/mide-974.jpg" alt="cover">
                        </div>
                        <div class="av-card-preview-footer">
                            <span class="av-num">MIDE-974</span>
                            <span class="av-actress">å¥³å„ªå</span>
                        </div>
                    </div>
                    <!-- å°å¡ 2 -->
                    <div class="av-card-preview">
                        <div class="av-card-preview-img">
                            <img src="/static/img/demo/fc2-1723984.jpg" alt="cover">
                            <span class="av-card-preview-badge">FC2</span>
                        </div>
                        <div class="av-card-preview-footer">
                            <span class="av-num">FC2-PPV-1723984</span>
                            <span class="av-actress">ç´ äºº</span>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>.av-card-preview {
  border-radius: var(--fluent-radius-xl);
  box-shadow: var(--fluent-shadow-4);
  overflow: hidden;
}
.av-card-preview:hover {
  box-shadow: 0 0 0 2px var(--accent), 0 0 20px rgba(var(--ds-glow-rgb), 0.2);
  transform: translateY(-6px);
}</code></pre>
                <p class="ds-desc" style="margin-top: 0.75rem;">å°å¡ 1 ä½¿ç”¨ <code>.once</code> modifierï¼šæ—‹è½‰ 5 åœˆå¾Œè‡ªå‹•åœæ­¢ï¼ˆæœ¬åœ°åŒ¹é…æç¤ºå ´æ™¯ï¼‰</p>
            </div>

            <!-- Full è®Šé«” -->
            <div class="ds-subsection">
                <h3>2. Fullï¼ˆè©³ç´°é é¢ï¼‰</h3>
                <p class="ds-desc">ç”¨æ–¼æœå°‹çµæœè©³æƒ…ï¼Œå·¦å³åˆ†å€ä½ˆå±€</p>
                <div class="ds-card-demo">
                    <div class="av-card-full">
                        <div class="av-card-full-cover">
                            <img src="/static/img/demo/cawd-441.jpg" alt="full cover">
                        </div>
                        <div class="av-card-full-info">
                            <div class="av-card-full-header">
                                <h4 class="av-num">CAWD-441</h4>
                                <span class="local-badge" title="æœ¬åœ°å·²æœ‰ï¼Œé»æ“Šè¤‡è£½è·¯å¾‘">ğŸ“</span>
                                <button type="button" class="info-icon-btn" title="åˆ‡æ›è³‡æ–™ä¾†æº">
                                    <i class="bi bi-arrow-repeat"></i>
                                </button>
                            </div>
                            <div class="av-card-full-body">
                                <div class="info-row">
                                    <span class="info-label">æ¼”å“¡</span>
                                    <span class="info-value">ä¹™ç™½æ²™ä¹ŸåŠ </span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">ç™¼è¡Œæ—¥æœŸ</span>
                                    <span class="info-value">2024-01-15</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">ç‰‡å•†</span>
                                    <span class="info-value">Kawaii</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">æ¨™ç±¤</span>
                                    <div class="info-value info-tags">
                                        <span class="tag-badge">ç¾å°‘å¥³</span>
                                        <span class="tag-badge">å–®é«”ä½œå“</span>
                                        <span class="tag-badge">ä¸­å‡º</span>
                                        <span class="tag-badge subtitle">ä¸­æ–‡å­—å¹•</span>
                                    </div>
                                </div>
                            </div>
                            <div class="av-card-full-footer">
                                <div class="av-card-full-footer-content">
                                    <span class="info-label">æ¨™é¡Œ</span>
                                    <div class="info-value-with-actions">
                                        <p class="info-value">ã€åœ§å€’çš„4Kæ˜ åƒã§ãƒŒã‚¯ï¼ã€‘ ãƒœã‚¯ã®å½¼å¥³ã¯ã€Œå¤©ç„¶ç³»ã€ã®ç©¶æ¥µã‚¨ãƒ­ã‹ã‚ç¾å°‘å¥³ã€‚å¹¸ã›åŒæ£²ã‚¤ãƒãƒ£ãƒ©ãƒ–æ€§æ´» ä¹™ç™½ã•ã‚„ã‹</p>
                                        <div class="av-card-full-footer-actions">
                                            <button type="button" class="info-icon-btn" title="ç·¨è¼¯æ¨™é¡Œ">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button type="button" class="info-icon-btn" title="AI æ‰¹æ¬¡ç¿»è­¯ 10 éƒ¨">
                                                <i class="bi bi-translate"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hero Card è®Šé«”ï¼ˆå¥³å„ªè³‡æ–™å¡ï¼‰ -->
            <div class="ds-subsection">
                <h3>3. Hero Cardï¼ˆå¥³å„ªè³‡æ–™å¡ï¼‰</h3>
                <p class="ds-desc">æœå°‹çµæœ Grid ç¬¬ä¸€æ ¼çš„å¥³å„ªè³‡æ–™å¡ã€‚<code>object-fit: contain</code> å®Œæ•´é¡¯ç¤ºå¤§é ­ç…§ï¼Œletterbox èƒŒæ™¯å¡«è£œç©ºç™½ï¼Œfooter é¡¯ç¤ºç”Ÿæ—¥èˆ‡èº«é«˜</p>
                <div class="ds-card-demo ds-hero-card-demo">
                    <div class="av-card-preview hero-card" style="width: 200px;">
                        <div class="av-card-preview-img">
                            <img src="/static/img/demo/ipzz-001.jpg" alt="å¥³å„ªå¤§é ­ç…§">
                        </div>
                        <div class="av-card-preview-footer" style="position: relative;">
                            <div class="ds-hero-footer-default">
                                <span class="av-num">1998-05-23</span>
                                <span class="av-actress">158cm</span>
                            </div>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>/* Hero Card è¦†å¯«ï¼šcontain + letterboxï¼ˆgrid ç¬¬ä¸€æ ¼ï¼‰ */
:is(#ds-gallery-components, .ds-gallery-composition) .hero-card .av-card-preview-img {
  background: var(--bg-card);  /* letterbox ç•™ç™½èƒŒæ™¯ */
}
:is(#ds-gallery-components, .ds-gallery-composition) .hero-card .av-card-preview-img img {
  object-fit: contain;         /* å®Œæ•´é¡¯ç¤ºï¼Œä¸è£åˆ‡ */
  transform-origin: center center; /* è¦†è“‹ 65% center åç§» */
}

/* Footerï¼šé è¨­å±¤ï¼ˆç•ªè™Ÿä½ç½®é¡¯ç¤ºç”Ÿæ—¥ï¼‰+ æ‡¸åœå±¤ï¼ˆå®Œæ•´ profile æ‘˜è¦ï¼‰*/
/* æ‡¸åœå±¤ç”± showcase.css: .footer-hover + .hover-title æ§åˆ¶ */</code></pre>
                <p class="ds-desc" style="margin-top: 0.75rem;">
                    Hover æ™‚ footer åˆ‡æ›ç‚ºå®Œæ•´ profile æ‘˜è¦ï¼ˆé€é <code>.footer-default</code>/<code>.footer-hover</code> + Alpine <code>x-text</code> å‹•æ…‹çµ„åˆï¼Œåƒ…åœ¨ showcase.css è¼‰å…¥é é¢ç”Ÿæ•ˆï¼‰
                </p>
            </div>

        </section>

        <!-- å€å¡Š 7: File Components (glass æ¨£å¼) -->
        <section id="ds-file-components" class="ds-section glass">
            <h2>File Components</h2>
            <p class="ds-note">æª”æ¡ˆæ“ä½œç›¸é—œå…ƒä»¶ï¼Œç”¨æ–¼ Search å’Œ Gallery é é¢</p>

            <!-- File List Section â€” å‹•æ…‹ç‹€æ…‹å®Œæ•´å±•ç¤º -->
            <div class="ds-subsection">
                <h3>File List â€” å‹•æ…‹ç‹€æ…‹æ§åˆ¶</h3>
                <p class="ds-desc">
                    æ¯å€‹ file-item row çµæ§‹å›ºå®šï¼šremove æŒ‰éˆ•ã€æª”æ¡ˆåœ–ç¤ºã€æª”åã€ç‹€æ…‹åœ–ç¤ºã€action slotã€‚
                    action slot å…§çš„ button/spinner é€é Alpine <code>x-show</code> äº’æ–¥é¡¯ç¤ºï¼ˆscrape-ready â†’ searching â†’ done / failedï¼‰ï¼›
                    row æœ¬èº«åªåˆ‡ <code>.active</code> class è¡¨ç¤ºç•¶å‰é¸ä¸­ã€‚
                </p>
                <div class="ds-card-demo">
                    <div class="file-list-section" style="max-width: 640px;">
                        <div class="file-list-header">
                            <span style="font-size: 0.9rem; font-weight: 600; color: var(--text-primary);">æª”æ¡ˆåˆ—è¡¨</span>
                            <span style="font-size: 0.8rem; color: var(--text-secondary);">5 å€‹æª”æ¡ˆ</span>
                        </div>

                        <!-- State 1: scrape-readyï¼ˆå¯ç”¢å‡º NFOï¼Œå°šæœªé–‹å§‹ï¼‰-->
                        <div class="file-item active" title="State: scrape-readyï¼ˆactive = ç•¶å‰é¸ä¸­ï¼‰">
                            <button class="btn btn-link btn-sm p-0 btn-remove-file text-muted" title="ç§»é™¤æ­¤æª”æ¡ˆ">
                                <i class="bi bi-x"></i>
                            </button>
                            <i class="bi bi-file-earmark-play file-icon"></i>
                            <span class="file-name" title="/videos/SONE-103.mp4">SONE-103.mp4</span>
                            <span class="file-status">âœ“</span>
                            <!-- x-show="canScrapeFile(file) && !file.isScraping && file.scrapeStatus !== 'done'" -->
                            <button class="btn btn-sm btn-outline btn-success btn-scrape-single" title="ç”¢ç”Ÿ NFO + å°é¢">
                                <i class="bi bi-folder-plus"></i>
                            </button>
                        </div>

                        <!-- State 2: searching / scrapingï¼ˆspinner ä¸­ï¼‰-->
                        <div class="file-item" title="State: isScraping = true">
                            <button class="btn btn-link btn-sm p-0 btn-remove-file text-muted" title="ç§»é™¤æ­¤æª”æ¡ˆ">
                                <i class="bi bi-x"></i>
                            </button>
                            <i class="bi bi-file-earmark-play file-icon"></i>
                            <span class="file-name" title="/videos/MIDE-974_HD.mp4">MIDE-974_HD.mp4</span>
                            <span class="file-status">âœ“</span>
                            <!-- x-show="file.isScraping" -->
                            <span class="loading loading-spinner loading-sm"></span>
                        </div>

                        <!-- State 3: doneï¼ˆscrapeStatus = 'done'ï¼‰-->
                        <div class="file-item" title="State: scrapeStatus = 'done'">
                            <button class="btn btn-link btn-sm p-0 btn-remove-file text-muted" title="ç§»é™¤æ­¤æª”æ¡ˆ">
                                <i class="bi bi-x"></i>
                            </button>
                            <i class="bi bi-file-earmark-play file-icon"></i>
                            <span class="file-name" title="/videos/CAWD-441.mp4">CAWD-441.mp4</span>
                            <span class="file-status">âœ“</span>
                            <!-- x-show="file.scrapeStatus === 'done'" -->
                            <button class="btn btn-sm btn-success btn-scrape-single" disabled>
                                <i class="bi bi-check"></i>
                            </button>
                        </div>

                        <!-- State 4: failedï¼ˆscrapeStatus = 'failed'ï¼Œå¯é‡è©¦ï¼‰-->
                        <div class="file-item" title="State: scrapeStatus = 'failed'">
                            <button class="btn btn-link btn-sm p-0 btn-remove-file text-muted" title="ç§»é™¤æ­¤æª”æ¡ˆ">
                                <i class="bi bi-x"></i>
                            </button>
                            <i class="bi bi-file-earmark-play file-icon"></i>
                            <span class="file-name" title="/videos/FC2-PPV-1723984.mp4">FC2-PPV-1723984.mp4</span>
                            <span class="file-status text-error">âœ—</span>
                            <!-- x-show="file.scrapeStatus === 'failed'" -->
                            <button class="btn btn-sm btn-error btn-scrape-single" title="é‡è©¦">
                                å¤±æ•—
                            </button>
                        </div>

                        <!-- State 5: needsNumberInputï¼ˆfile.number ç‚ºç©ºï¼Œéœ€æ‰‹å‹•è¼¸å…¥ç•ªè™Ÿï¼‰-->
                        <div class="file-item" title="State: !file.number (needsNumberInput)">
                            <button class="btn btn-link btn-sm p-0 btn-remove-file text-muted" title="ç§»é™¤æ­¤æª”æ¡ˆ">
                                <i class="bi bi-x"></i>
                            </button>
                            <i class="bi bi-file-earmark-play file-icon"></i>
                            <span class="file-name" title="/videos/unknown_720p.mp4">unknown_720p.mp4</span>
                            <span class="file-status text-warning">?</span>
                            <!-- x-show="needsNumberInput(file)" -->
                            <button class="btn btn-sm btn-outline btn-warning btn-enter-number" title="æ‰‹å‹•è¼¸å…¥ç•ªè™Ÿ">
                                <i class="bi bi-pencil"></i>
                            </button>
                        </div>

                    </div>
                </div>

                <!-- æŠ€è¡“èªªæ˜ -->
                <div class="ds-note" style="margin-top: 1rem;">
                    <strong>ç‹€æ…‹åˆ‡æ›é‚è¼¯ï¼š</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li><code>x-show="canScrapeFile(file) && !file.isScraping && file.scrapeStatus !== 'done'"</code> â†’ é¡¯ç¤º NFO æŒ‰éˆ•</li>
                        <li><code>x-show="file.isScraping"</code> â†’ é¡¯ç¤º spinner</li>
                        <li><code>x-show="file.scrapeStatus === 'done'"</code> â†’ é¡¯ç¤ºå®ŒæˆæŒ‰éˆ•ï¼ˆdisabledï¼‰</li>
                        <li><code>x-show="file.scrapeStatus === 'failed'"</code> â†’ é¡¯ç¤ºå¤±æ•—æŒ‰éˆ•ï¼ˆå¯é‡è©¦ï¼‰</li>
                        <li><code>x-show="needsNumberInput(file)"</code> â†’ <code>!file.number</code>ï¼Œé¡¯ç¤ºæ‰‹å‹•è¼¸å…¥æŒ‰éˆ•</li>
                    </ul>
                </div>

                <pre class="ds-code"><code>/* File Item æ ¸å¿ƒæ¨£å¼ï¼ˆsearch.cssï¼‰ */
.file-item {
  display: flex; align-items: center; gap: 8px;
  padding: 4px 8px;
  border-radius: var(--fluent-radius-sm);
  font-size: 0.8rem; cursor: pointer;
  transition: background var(--fluent-duration-fast) var(--fluent-ease-standard);
}
.file-item.active {
  background: var(--border-light);
  color: var(--accent);
  font-weight: 600;
}
.file-item .file-name { flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.file-item .file-status { font-size: 0.75rem; color: var(--color-success); flex-shrink: 0; }
.file-item .btn-scrape-single { flex-shrink: 0; padding: 0 6px; font-size: 0.7rem; }</code></pre>
            </div>

            <!-- Drag Overlay -->
            <div class="ds-subsection" id="ds-drag-overlay">
                <h3>Drag Overlay (Search å½ˆçª—)</h3>
                <p class="ds-desc">æ‹–æ›³æª”æ¡ˆæ™‚çš„å…¨è¢å¹•è¦†è“‹å±¤ï¼Œæ¯›ç»ç’ƒæ•ˆæœ + å¤§åœ–ç¤ºæç¤ºï¼Œæ”¯æ´ä¸»é¡Œè·Ÿéš¨</p>

                <!-- ç¤ºç¯„å®¹å™¨ï¼šæ¨¡æ“¬å¯¦éš›æ•ˆæœ -->
                <div class="ds-card-demo" style="position: relative; height: 300px; overflow: hidden; border-radius: var(--fluent-radius-xl);">
                    <!-- èƒŒæ™¯åœ–ç‰‡ -->
                    <img src="/static/img/demo/sone-103.jpg" alt="background"
                         style="position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;">

                    <!-- Drag Overlayï¼ˆä½¿ç”¨ .active classï¼‰ -->
                    <div class="drag-overlay active" style="position: absolute; inset: 0; border-radius: var(--fluent-radius-xl);">
                        <div class="drag-overlay-content">
                            <i class="bi bi-file-earmark-arrow-up"></i>
                            <p>æ‹–å…¥æª”æ¡ˆæˆ–è³‡æ–™å¤¾</p>
                        </div>
                    </div>
                </div>

                <!-- æŠ€è¡“èªªæ˜ -->
                <div style="margin-top: 1rem; padding: 1rem; background: var(--bg-body); border-radius: var(--fluent-radius-lg); border: 1px solid var(--border-light);">
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">
                        <strong style="color: var(--text-primary);">ä¸»é¡Œé©é…ï¼š</strong>
                        èƒŒæ™¯è‰² <code>oklch(var(--b1) / 0.6)</code>ã€æ–‡å­—è‰² <code>oklch(var(--bc))</code> è‡ªå‹•è·Ÿéš¨ DaisyUI ä¸»é¡Œ
                    </p>
                </div>

                <pre class="ds-code"><code>&lt;div class="drag-overlay active"&gt;
  &lt;div class="drag-overlay-content"&gt;
    &lt;i class="bi bi-file-earmark-arrow-up"&gt;&lt;/i&gt;
    &lt;p&gt;æ‹–å…¥æª”æ¡ˆæˆ–è³‡æ–™å¤¾&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            </div>

            <!-- Folder Item -->
            <div class="ds-subsection">
                <h3>Folder Item</h3>
                <p class="ds-desc">Gallery é çš„è³‡æ–™å¤¾åˆ—è¡¨é …ç›®ï¼Œé¡¯ç¤ºè·¯å¾‘å’Œç§»é™¤æŒ‰éˆ•</p>
                <div class="ds-card-demo">
                    <div style="max-width: 600px; background: var(--bg-card); border-radius: 12px; overflow: hidden;">
                        <div class="folder-item">
                            <i class="bi bi-folder folder-icon"></i>
                            <span class="folder-path">/Users/username/Videos/AV</span>
                            <button class="btn btn-sm btn-outline-danger btn-remove">ç§»é™¤</button>
                        </div>
                        <div class="folder-item">
                            <i class="bi bi-folder folder-icon"></i>
                            <span class="folder-path">D:\Downloads\JAV\Uncensored</span>
                            <button class="btn btn-sm btn-outline-danger btn-remove">ç§»é™¤</button>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>.folder-item {
  display: flex;
  align-items: center;
  padding: 0.875rem 1.25rem;
  gap: 0.75rem;
  border-bottom: 1px solid var(--border-light);
}
.folder-item:hover {
  background: var(--bg-body);
}
.folder-item:hover .btn-remove {
  opacity: 1;
}</code></pre>
            </div>
        </section>

        <!-- å€å¡Š 7.5: Page States (glass æ¨£å¼) -->
        <section id="ds-page-states" class="ds-section glass">
            <h2>Page States</h2>
            <p class="ds-note">æœå°‹é é¢çš„å„ç¨®ç‹€æ…‹å±•ç¤ºï¼Œç”¨æ–¼å¼•å°ç”¨æˆ¶æ“ä½œæˆ–é¡¯ç¤ºé€²åº¦/éŒ¯èª¤</p>

            {% include 'design_system/page-states.html' %}
        </section>

        <!-- å€å¡Š: Gallery Components -->
        <section id="ds-gallery-components" class="ds-section glass">
            <h2>Gallery Components</h2>
            <p class="ds-note">Gallery é é¢çš„å…ƒä»¶ç³»çµ±ï¼ŒåŒ…å«è³‡æ–™å¤¾ç®¡ç†ã€çµ±è¨ˆå¡ç‰‡å’Œå¥³å„ªåˆ¥åç®¡ç†</p>

            {% include 'design_system/gallery-components.html' %}
        </section>

        <!-- å€å¡Š: Settings Components -->
        <section id="ds-settings-components" class="ds-section glass">
            <h2>Settings Components</h2>
            <p class="ds-note">Settings é é¢çš„åŸºç¤è¡¨å–®å…ƒä»¶ï¼ŒåŒ…å« Toggleã€Selectã€Number input å’Œ Text input</p>

            {% include 'design_system/settings-components.html' %}
        </section>

        <!-- å€å¡Š: Page Compositions -->
        <section id="ds-page-compositions" class="ds-section glass">
            <h2>Page Compositions</h2>
            <p class="ds-note">é é¢ç´šæ’ç‰ˆ Mockupï¼Œå±•ç¤ºé·ç§»å¾Œçš„å®Œæ•´è¦–è¦ºç¯€å¥ (ç´”éœæ…‹å±•ç¤ºï¼Œéäº’å‹•)</p>

            {% include 'design_system/page-compositions.html' %}
        </section>

        <!-- å€å¡Š: Modals -->
        <section id="ds-modals" class="ds-section glass">
            <h2>Modals</h2>
            <p class="ds-note">Fluent Design 2 é¢¨æ ¼çš„ç¢ºèªå°è©±æ¡†ï¼Œä½¿ç”¨ DaisyUI modal + Alpine.js</p>

            <!-- Subsection: Basic Confirmation Dialog -->
            <div class="ds-subsection">
                <h3>Confirmation Dialog</h3>
                <p class="ds-desc">åˆªé™¤/ç¢ºèªæ“ä½œçš„æ¨™æº–å°è©±æ¡†ï¼ŒSmoke backdrop + Fluent å¡ç‰‡æ¨£å¼</p>

                <!-- Demo å®¹å™¨ -->
                <div class="ds-modal-demo" x-data>
                    <!-- è§¸ç™¼æŒ‰éˆ• -->
                    <button type="button" class="btn btn-error" @click="$refs.confirmDialog.showModal()">
                        <i class="bi bi-trash"></i> åˆªé™¤é …ç›®
                    </button>

                    <!-- Modal Dialog -->
                    <dialog x-ref="confirmDialog" class="modal fluent-modal">
                        <div class="modal-box fluent-modal-box">
                            <!-- Header -->
                            <h3 class="fluent-modal-title">ç¢ºèªåˆªé™¤</h3>

                            <!-- Body -->
                            <p class="fluent-modal-body">
                                ç¢ºå®šè¦åˆªé™¤æ­¤é …ç›®å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚
                            </p>

                            <!-- Footer Actions -->
                            <div class="modal-action fluent-modal-actions">
                                <button type="button" class="btn btn-ghost" @click="$refs.confirmDialog.close()">
                                    å–æ¶ˆ
                                </button>
                                <button type="button" class="btn btn-error" @click="$refs.confirmDialog.close()">
                                    <i class="bi bi-trash"></i> ç¢ºèªåˆªé™¤
                                </button>
                            </div>
                        </div>
                        <form method="dialog" class="modal-backdrop">
                            <button>close</button>
                        </form>
                    </dialog>
                </div>

                <!-- æŠ€è¡“èªªæ˜ -->
                <div class="ds-note" style="margin-top: 1.5rem;">
                    <strong>æŠ€è¡“ç´°ç¯€ï¼š</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li>ä½¿ç”¨åŸç”Ÿ <code>&lt;dialog&gt;</code> å…ƒç´  + Alpine.js <code>$refs</code></li>
                        <li>Production é€é Alpine class toggleï¼ˆ<code>:class="{ 'modal-open': dirtyCheckModalOpen }"</code>ï¼‰æ§åˆ¶ modal é¡¯ç¤ºï¼ˆåƒè¦‹ settings.htmlã€scanner.htmlï¼‰ï¼›æ­¤é  demo ä½¿ç”¨åŸç”Ÿ <code>$refs.showModal()</code> åƒ…ç‚ºå±•ç¤ºç”¨é€”</li>
                        <li>Backdrop é»æ“Šå’Œ ESC éµé—œé–‰ç‚ºåŸç”ŸåŠŸèƒ½ï¼ˆç„¡éœ€é¡å¤–è™•ç†ï¼‰</li>
                        <li>Smoke backdrop ä½¿ç”¨ <code>--fluent-smoke</code> tokenï¼ˆLight: 0.4, Dark: 0.6ï¼‰</li>
                        <li>å¡ç‰‡é™°å½±ä½¿ç”¨ <code>--fluent-shadow-28</code>ï¼ˆXXLarge elevationï¼‰</li>
                        <li>åœ“è§’ä½¿ç”¨ <code>--fluent-radius-xl</code> (12px)</li>
                        <li>Open å‹•ç•«ï¼šScale (0.95 â†’ 1) + Fadeï¼Œ250ms duration</li>
                    </ul>
                </div>

                <!-- ç¨‹å¼ç¢¼ç¯„ä¾‹ -->
                <pre class="ds-code"><code>&lt;!-- Alpine.js æ§åˆ¶ --&gt;
&lt;div x-data&gt;
  &lt;button @click="$refs.dialog.showModal()"&gt;Open&lt;/button&gt;

  &lt;dialog x-ref="dialog" class="modal fluent-modal"&gt;
    &lt;div class="modal-box fluent-modal-box"&gt;
      &lt;h3 class="fluent-modal-title"&gt;Title&lt;/h3&gt;
      &lt;p class="fluent-modal-body"&gt;Content&lt;/p&gt;
      &lt;div class="modal-action fluent-modal-actions"&gt;
        &lt;button @click="$refs.dialog.close()"&gt;Close&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;form method="dialog" class="modal-backdrop"&gt;
      &lt;button&gt;close&lt;/button&gt;
    &lt;/form&gt;
  &lt;/dialog&gt;
&lt;/div&gt;</code></pre>
            </div>
        </section>

        <!-- å€å¡Š: Toasts -->
        <section id="ds-toasts" class="ds-section accent-bar"
                 x-data="{
                   toastVisible: false,
                   toastMessage: '',
                   toastType: 'success',
                   toastTimeout: null,
                   toastDuration: 2500,
                   showToast(message, type = 'success', duration = 2500) {
                     clearTimeout(this.toastTimeout);
                     this.toastMessage = message;
                     this.toastType = type;
                     this.toastDuration = duration;
                     this.toastVisible = true;
                     this.toastTimeout = setTimeout(() => {
                       this.toastVisible = false;
                     }, duration);
                   }
                 }">
            <h2>Toasts</h2>
            <p class="ds-note">Non-blocking è¼•é‡å›é¥‹é€šçŸ¥ï¼Œåº•éƒ¨å±…ä¸­è‡ªå‹•æ¶ˆå¤±ï¼Œä½¿ç”¨ DaisyUI alert + Alpine.js</p>

            <!-- Subsection: Interactive Toast Demo -->
            <div class="ds-subsection">
                <h3>Toast Variants</h3>
                <p class="ds-desc">æˆåŠŸ/éŒ¯èª¤/è³‡è¨Šä¸‰ç¨®è®Šé«”ï¼Œ2-3 ç§’å¾Œè‡ªå‹•æ¶ˆå¤±</p>

                <!-- Demo å®¹å™¨ -->
                <div class="ds-toast-demo">
                    <!-- è§¸ç™¼æŒ‰éˆ•çµ„ -->
                    <div class="ds-toast-buttons">
                        <button type="button" class="btn btn-success"
                                @click="showToast('âœ“ è·¯å¾‘å·²è¤‡è£½', 'success', 2500)">
                            <i class="bi bi-check-circle"></i> è§¸ç™¼æˆåŠŸ Toast
                        </button>

                        <button type="button" class="btn btn-error"
                                @click="showToast('âœ— ç”¢ç”Ÿå¤±æ•—', 'error', 2500)">
                            <i class="bi bi-x-circle"></i> è§¸ç™¼éŒ¯èª¤ Toast
                        </button>

                        <button type="button" class="btn btn-info"
                                @click="showToast('âŸ³ æ­£åœ¨è™•ç†...', 'info', 3000)">
                            <i class="bi bi-info-circle"></i> è§¸ç™¼è³‡è¨Š Toast
                        </button>
                    </div>

                    <!-- Toast Container (Fixed positioning) -->
                    <div class="toast toast-bottom toast-center fluent-toast-container"
                         x-show="toastVisible"
                         x-transition:enter="fluent-toast-enter"
                         x-transition:enter-start="fluent-toast-enter-start"
                         x-transition:enter-end="fluent-toast-enter-end"
                         x-transition:leave="fluent-toast-leave"
                         x-transition:leave-start="fluent-toast-leave-start"
                         x-transition:leave-end="fluent-toast-leave-end"
>
                        <div class="alert fluent-toast"
                             :class="`alert-${toastType}`"
                             role="alert">
                            <!-- Icon -->
                            <i class="bi"
                               :class="{
                                 'bi-check-circle': toastType === 'success',
                                 'bi-x-circle': toastType === 'error',
                                 'bi-info-circle': toastType === 'info'
                               }"></i>
                            <span x-text="toastMessage"></span>
                        </div>
                    </div>
                </div>

                <!-- æŠ€è¡“èªªæ˜ -->
                <div class="ds-note" style="margin-top: 1.5rem;">
                    <strong>æŠ€è¡“ç´°ç¯€ï¼š</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li>ä½¿ç”¨ DaisyUI <code>toast</code> å®¹å™¨ + <code>alert</code> å…ƒä»¶</li>
                        <li>Alpine.js <code>showToast()</code> çµ±ä¸€ç®¡ç†è¨Šæ¯ã€é¡å‹ã€æŒçºŒæ™‚é–“</li>
                        <li>é¡è‰²è®Šé«”ï¼š<code>alert-success</code>ï¼ˆç¶ ï¼‰/ <code>alert-error</code>ï¼ˆç´…ï¼‰/ <code>alert-info</code>ï¼ˆè—ï¼‰</li>
                        <li>å‹•ç•«ï¼šSlide up (20px â†’ 0) + Fade inï¼Œä½¿ç”¨ <code>x-transition</code></li>
                        <li>Production ç„¡ Hover æš«åœï¼ˆè‡ªå‹•æ¶ˆå¤±ï¼‰</li>
                        <li>é™°å½±ä½¿ç”¨ <code>--fluent-shadow-16</code>ï¼ˆXLarge elevationï¼‰</li>
                        <li>åœ“è§’ä½¿ç”¨ <code>--fluent-radius-lg</code> (8px)</li>
                        <li>æŒçºŒæ™‚é–“ï¼šæˆåŠŸ/éŒ¯èª¤ 2.5 ç§’ï¼Œè³‡è¨Š 3 ç§’</li>
                    </ul>
                </div>

                <!-- ç¨‹å¼ç¢¼ç¯„ä¾‹ -->
                <pre class="ds-code"><code>&lt;!-- Alpine.js æ§åˆ¶ --&gt;
&lt;div x-data="{
  toastVisible: false,
  toastMessage: '',
  toastType: 'success',
  showToast(message, type = 'success', duration = 2500) {
    this.toastMessage = message;
    this.toastType = type;
    this.toastVisible = true;
    setTimeout(() =&gt; { this.toastVisible = false; }, duration);
  }
}"&gt;
  &lt;button @click="showToast('å·²è¤‡è£½', 'success')"&gt;è¤‡è£½&lt;/button&gt;

  &lt;div class="toast toast-bottom toast-center" x-show="toastVisible"&gt;
    &lt;div class="alert fluent-toast" :class="`alert-${toastType}`"&gt;
      &lt;span x-text="toastMessage"&gt;&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            </div>

            <!-- Toast Pattern å°ç…§è¡¨ -->
            <div class="ds-subsection">
                <h3>Toast Pattern å°ç…§</h3>
                <p class="ds-desc">3 ç¨® toast pattern åˆ†åˆ¥ç”¨æ–¼ä¸åŒé é¢ï¼Œå·®ç•°ä¸»è¦åœ¨ä½ç½®ã€ç”Ÿå‘½é€±æœŸèˆ‡äº¤äº’è¡Œç‚º</p>

                <!-- Visual Specimens -->
                <div class="ds-toast-specimens">
                    <!-- fluent-toast specimen -->
                    <div class="ds-toast-specimen-item">
                        <span class="ds-specimen-label">fluent-toastï¼ˆåº•éƒ¨å±…ä¸­ï¼‰</span>
                        <div class="alert alert-success fluent-toast" role="alert" style="pointer-events: none;">
                            <i class="bi bi-check-circle"></i>
                            <span>âœ“ è·¯å¾‘å·²è¤‡è£½</span>
                        </div>
                    </div>
                    <!-- search-toast specimen -->
                    <div class="ds-toast-specimen-item">
                        <span class="ds-specimen-label">search-toastï¼ˆå³ä¸‹è§’ fixedï¼‰</span>
                        <div class="alert alert-info" style="box-shadow: var(--fluent-shadow-16); pointer-events: none;">
                            <i class="bi bi-info-circle-fill"></i>
                            <span>âŸ³ æ­£åœ¨ç¿»è­¯...</span>
                        </div>
                    </div>
                    <!-- settings-toast specimen -->
                    <div class="ds-toast-specimen-item">
                        <span class="ds-specimen-label">settings-toastï¼ˆå³ä¸Šè§’ fixedï¼‰</span>
                        <div class="alert alert-success" style="pointer-events: none;">
                            <span>è¨­å®šå·²å„²å­˜</span>
                            <button type="button" class="btn btn-sm btn-circle btn-ghost" disabled>
                                <i class="bi bi-x"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Comparison Table -->
                <div class="ds-toast-comparison">
                    <table>
                        <thead>
                            <tr>
                                <th>ç‰¹æ€§</th>
                                <th>fluent-toast</th>
                                <th>search-toast</th>
                                <th>settings-toast</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ä½ç½®</td>
                                <td>åº•éƒ¨å±…ä¸­<br><code>toast-bottom toast-center</code></td>
                                <td>å³ä¸‹è§’ fixed<br><code>bottom: 1.5rem; right: 1.5rem</code></td>
                                <td>å³ä¸Šè§’ fixed<br><code>toast-end toast-top</code></td>
                            </tr>
                            <tr>
                                <td>z-index</td>
                                <td>DaisyUI é è¨­</td>
                                <td>9999ï¼ˆé«˜æ–¼ lightbox z-1000ï¼‰</td>
                                <td>9999ï¼ˆ<code>z-[9999]</code>ï¼‰</td>
                            </tr>
                            <tr>
                                <td>é™°å½±</td>
                                <td><code>--fluent-shadow-16</code><br>ï¼ˆ<code>.fluent-toast</code> classï¼‰</td>
                                <td><code>--fluent-shadow-16</code><br>ï¼ˆ<code>.search-toast-container .alert</code>ï¼‰</td>
                                <td>DaisyUI é è¨­</td>
                            </tr>
                            <tr>
                                <td>å‹•ç•«</td>
                                <td>Slide-up + Fade<br>ï¼ˆx-transition è‡ªå®šç¾© classï¼‰</td>
                                <td>Slide-up + Fade<br>ï¼ˆTailwind <code>translate-y-4</code>ï¼‰</td>
                                <td>DaisyUI é è¨­<br>ï¼ˆ<code>x-transition</code>ï¼‰</td>
                            </tr>
                            <tr>
                                <td>Hover æš«åœ</td>
                                <td>ç„¡</td>
                                <td>ç„¡</td>
                                <td>ç„¡</td>
                            </tr>
                            <tr>
                                <td>é—œé–‰æ–¹å¼</td>
                                <td>è‡ªå‹•æ¶ˆå¤±ï¼ˆ2â€“3 ç§’ï¼‰</td>
                                <td>è‡ªå‹•æ¶ˆå¤±ï¼ˆauto-hideï¼‰</td>
                                <td>æ‰‹å‹•é—œé–‰æŒ‰éˆ• + è‡ªå‹•æ¶ˆå¤±</td>
                            </tr>
                            <tr>
                                <td>pointer-events</td>
                                <td>æœªç‰¹åˆ¥é™åˆ¶</td>
                                <td>container: none<br>alert: autoï¼ˆé˜²ç©¿é€ï¼‰</td>
                                <td>æœªç‰¹åˆ¥é™åˆ¶</td>
                            </tr>
                            <tr>
                                <td>ç”¨é€”</td>
                                <td>Design System demo<br>é€šç”¨ç¯„ä¾‹</td>
                                <td>Search é æ“ä½œå›é¥‹<br>ï¼ˆè¤‡è£½è·¯å¾‘ã€NFO ç”¢å‡ºç­‰ï¼‰</td>
                                <td>Settings é æ“ä½œå›é¥‹<br>ï¼ˆå„²å­˜è¨­å®šç­‰ï¼‰</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- å€å¡Š: Help Elements -->
        <section id="ds-help-elements" class="ds-section glass">
            <h2>Help Elements</h2>
            <p class="ds-note">Help é é¢ä½¿ç”¨çš„éµç›¤å¿«æ·éµå±•ç¤ºå…ƒä»¶ï¼ˆDaisyUI kbd + tableï¼‰</p>

            <!-- Subsection: Keyboard Shortcuts -->
            <div class="ds-subsection">
                <h3>Keyboard Shortcuts</h3>
                <p class="ds-desc">ä½¿ç”¨èªªæ˜é é¢çš„éµç›¤å¿«æ·éµå°ç…§è¡¨ï¼Œå±•ç¤ºä¸»æ‡‰ç”¨ç¨‹å¼çš„æ ¸å¿ƒå¿«æ·éµ</p>

                <!-- Kbd Demo Container -->
                <div class="ds-kbd-demo">
                    <!-- å¿«æ·éµè¡¨æ ¼ -->
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th style="width: 40%;">æŒ‰éµçµ„åˆ</th>
                                <th style="width: 60%;">åŠŸèƒ½</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <kbd class="kbd kbd-sm">Ctrl</kbd> / <kbd class="kbd kbd-sm">Cmd</kbd> + <kbd class="kbd kbd-sm">K</kbd>
                                </td>
                                <td>èšç„¦æœå°‹æ¡†</td>
                            </tr>
                            <tr>
                                <td>
                                    <kbd class="kbd kbd-sm">â†</kbd> <kbd class="kbd kbd-sm">â†’</kbd>
                                </td>
                                <td>åˆ‡æ›ä¸Šä¸€å€‹/ä¸‹ä¸€å€‹çµæœ</td>
                            </tr>
                            <tr>
                                <td>
                                    <kbd class="kbd kbd-sm">Esc</kbd>
                                </td>
                                <td>æ¸…ç©ºæœå°‹æ¡†</td>
                            </tr>
                            <tr>
                                <td>
                                    <kbd class="kbd kbd-sm">Enter</kbd>
                                </td>
                                <td>åŸ·è¡Œæœå°‹</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- æŠ€è¡“èªªæ˜ -->
                <div class="ds-note" style="margin-top: 1.5rem;">
                    <strong>æŠ€è¡“ç´°ç¯€ï¼š</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li>ä½¿ç”¨ DaisyUI <code>&lt;kbd&gt;</code> å…ƒä»¶ï¼ˆ<code>.kbd.kbd-sm</code>ï¼‰</li>
                        <li>è¡¨æ ¼ä½¿ç”¨ DaisyUI <code>&lt;table&gt;</code> + <code>.table-sm</code>ï¼ˆæ¸›å°‘å…§è·ï¼‰</li>
                        <li>æŒ‰éµçµ„åˆä½¿ç”¨ <code>+</code> ç¬¦è™Ÿæ¸…æ™°æ¨™ç¤ºï¼ˆå¦‚ Ctrl + Kï¼‰</li>
                        <li>æ¬„ä½å¯¬åº¦æ¯”ä¾‹ï¼šæŒ‰éµ 40% / åŠŸèƒ½ 60%</li>
                        <li>è‡ªå‹•è·Ÿéš¨ Light/Dark ä¸»é¡Œåˆ‡æ›ï¼ˆDaisyUI å…§å»ºï¼‰</li>
                    </ul>
                </div>

                <!-- å–®ç¨ Kbd å±•ç¤º -->
                <div style="margin-top: 2rem;">
                    <h4 class="ds-variant-label" style="margin-top: 0; color: var(--text-primary);">Kbd å°ºå¯¸è®Šé«”</h4>
                    <div class="ds-kbd-sizes">
                        <div class="ds-kbd-size-item">
                            <kbd class="kbd kbd-xs">Ctrl</kbd>
                            <span class="ds-kbd-label">kbd-xs</span>
                        </div>
                        <div class="ds-kbd-size-item">
                            <kbd class="kbd kbd-sm">Ctrl</kbd>
                            <span class="ds-kbd-label">kbd-sm</span>
                        </div>
                        <div class="ds-kbd-size-item">
                            <kbd class="kbd">Ctrl</kbd>
                            <span class="ds-kbd-label">kbd (é è¨­)</span>
                        </div>
                        <div class="ds-kbd-size-item">
                            <kbd class="kbd kbd-lg">Ctrl</kbd>
                            <span class="ds-kbd-label">kbd-lg</span>
                        </div>
                    </div>
                </div>

                <!-- ç¨‹å¼ç¢¼ç¯„ä¾‹ -->
                <pre class="ds-code" style="margin-top: 1.5rem;"><code>&lt;!-- å¿«æ·éµè¡¨æ ¼ --&gt;
&lt;table class="table table-sm"&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;
        &lt;kbd class="kbd kbd-sm"&gt;Ctrl&lt;/kbd&gt; + &lt;kbd class="kbd kbd-sm"&gt;K&lt;/kbd&gt;
      &lt;/td&gt;
      &lt;td&gt;èšç„¦æœå°‹æ¡†&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
            </div>
        </section>

        <!-- å€å¡Š 8: Progress & Feedback (accent-bar æ¨£å¼) -->
        <section id="ds-progress" class="ds-section accent-bar">
            <h2>Progress & Feedback</h2>
            <p class="ds-note">é€²åº¦é¡¯ç¤ºå’Œå³æ™‚å›é¥‹å…ƒä»¶</p>

            <!-- Progress Indicator -->
            <div class="ds-subsection">
                <h3>Progress Indicator</h3>
                <p class="ds-desc">Search é çš„æœå°‹é€²åº¦é¡¯ç¤ºï¼Œè·Ÿéš¨ä¸»é¡Œé¡¯ç¤ºï¼ˆlight: æ·ºåº•æ·±å­— / dim: æ·±åº•æ·ºå­—ï¼‰<br>
                    <small style="color: var(--text-muted);">âš ï¸ Demo æ¨£å¼ï¼ˆdesign-system.css scopedï¼‰ï¼Œproduction ç‰ˆå®šç¾©è¦‹ search.css</small></p>
                <div class="ds-card-demo" style="background: var(--bg-body); padding: 2rem; border-radius: var(--radius-md);">
                    <div class="search-progress" style="max-width: 500px; margin: 0 auto;">
                        <div class="progress-container">
                            <div class="progress-header">
                                <span class="progress-status">æœå°‹ä¸­</span>
                            </div>
                            <div class="progress-log">
                                æ­£åœ¨æœå°‹ SONE-103...
                            </div>
                            <div class="detail-progress show">
                                <div class="detail-bar" style="width: 65%;"></div>
                                <span class="detail-text">65 / 100</span>
                            </div>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>.search-progress {
  display: flex;
  align-items: center;
  justify-content: center;
}
.progress-log::before {
  content: '';
  width: 8px;
  height: 8px;
  border: 2px solid rgba(96, 165, 250, 0.3);
  border-top-color: #60a5fa;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}</code></pre>
            </div>

            <!-- Mini Terminal -->
            <div class="ds-subsection">
                <h3>Mini Terminal</h3>
                <p class="ds-desc">Gallery é çš„ç”¢ç”Ÿé€²åº¦æ—¥èªŒè¦–çª—ï¼ŒTerminal é¢¨æ ¼è¼¸å‡º</p>
                <div class="ds-card-demo">
                    <div class="mini-terminal" style="max-width: 500px;">
                        <div class="mini-terminal-header">
                            <span class="title">ç”¢ç”Ÿé€²åº¦</span>
                        </div>
                        <div class="mini-terminal-body">
                            <div class="log-info">[INFO] æ­£åœ¨ç”¢ç”Ÿç¶²é åˆ—è¡¨...</div>
                            <div class="log-info">[INFO] å·²è™•ç† 50 å€‹å½±ç‰‡</div>
                            <div class="log-warn">[WARN] éƒ¨åˆ†æª”æ¡ˆç¼ºå°‘å°é¢</div>
                            <div class="log-info">[INFO] ç”¢ç”Ÿå®Œæˆ</div>
                        </div>
                        <div class="progress-mini">
                            <div style="width: 80%; height: 100%; background: linear-gradient(90deg, #3b82f6, #60a5fa); border-radius: 2px;"></div>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>.mini-terminal {
  background: #1a1a2e;
  border-radius: 12px;
  overflow: hidden;
}
.mini-terminal-body {
  font-family: 'SF Mono', 'Fira Code', monospace;
  font-size: 0.75rem;
  color: #d4d4d4;
}</code></pre>
            </div>

            <!-- Batch Progress Bar -->
            <div class="ds-subsection">
                <h3>Batch Progress Bar</h3>
                <p class="ds-desc">æ‰¹æ¬¡è™•ç†é€²åº¦æ¢ï¼Œèˆ‡ detail-progress é¢¨æ ¼çµ±ä¸€ï¼ˆè—è‰²æ¼¸å±¤ï¼‰</p>
                <div class="ds-card-demo">
                    <div class="batch-progress" style="max-width: 400px;">
                        <div class="batch-progress-bar">
                            <div class="batch-progress-fill" style="width: 40%;"></div>
                        </div>
                        <small class="batch-progress-text">è™•ç†ä¸­ 4/10</small>
                    </div>
                    <div class="batch-progress" style="max-width: 400px;">
                        <div class="batch-progress-bar">
                            <div class="batch-progress-fill" style="width: 75%;"></div>
                        </div>
                        <small class="batch-progress-text">è™•ç†ä¸­ 15/20</small>
                    </div>
                </div>
                <pre class="ds-code"><code>.batch-progress-fill {
  height: 100%;
  background: linear-gradient(90deg,
    var(--progress-gradient-start),
    var(--progress-gradient-end));
  transition: var(--progress-transition);
}</code></pre>
            </div>

            <!-- Collapse Toggle -->
            <div class="ds-subsection">
                <h3>Collapse Toggle</h3>
                <p class="ds-desc">å±•é–‹/æ”¶èµ·é€£çµï¼Œä½¿ç”¨ Alpine.jsï¼ŒChevron icon æ—‹è½‰å‹•ç•«</p>
                <div class="ds-card-demo">
                    <div style="max-width: 400px; padding: 1rem; background: var(--bg-card); border-radius: 12px;">
                        <div x-data="{ expanded: false }">
                            <a class="collapse-toggle text-decoration-none"
                               @click="expanded = !expanded"
                               :aria-expanded="expanded"
                               role="button"
                               style="display: inline-flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); font-size: 0.875rem; cursor: pointer;">
                                <i class="bi bi-chevron-down" :class="{ 'rotate-180': expanded }"></i> é€²éšé¸é …
                            </a>
                            <div x-show="expanded" x-collapse style="margin-top: 1rem; padding: 1rem; background: var(--bg-body); border-radius: 8px;">
                                <p style="margin: 0; color: var(--text-secondary);">é€™è£¡æ˜¯å±•é–‹å¾Œçš„å…§å®¹å€åŸŸ</p>
                            </div>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>&lt;div x-data="{ expanded: false }"&gt;
  &lt;a class="collapse-toggle"
     @click="expanded = !expanded"&gt;
    &lt;i class="bi bi-chevron-down"
       :class="{ 'rotate-180': expanded }"&gt;&lt;/i&gt;
    é€²éšé¸é …
  &lt;/a&gt;
  &lt;div x-show="expanded" x-collapse&gt;
    å…§å®¹...
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            </div>
        </section>

        <!-- å€å¡Š 9: Navigation (glass æ¨£å¼) -->
        <section id="ds-navigation" class="ds-section glass">
            <h2>Navigation</h2>

            <div class="ds-subsection">
                <h3>Sidebar (Mini Demo)</h3>
                <div class="ds-sidebar-demo">
                    <nav class="ds-sidebar-mini">
                        <a class="nav-link active"><i class="bi bi-search"></i> æœå°‹</a>
                        <a class="nav-link"><i class="bi bi-list-ul"></i> åˆ—è¡¨ç”Ÿæˆ</a>
                        <a class="nav-link"><i class="bi bi-collection-play"></i> ç€è¦½</a>
                        <a class="nav-link"><i class="bi bi-gear"></i> è¨­å®š</a>
                    </nav>
                </div>
            </div>

            <div class="ds-subsection">
                <h3>Navigation Rail (Collapsed State)</h3>
                <p class="ds-desc">Icon-only å°èˆªæ¢ï¼Œç”¨æ–¼æ”¶åˆå´é‚Šæ¬„æ™‚çš„ç²¾ç°¡æ¨¡å¼ã€‚å±•ç¤º Fluent Design 2 è¦ç¯„çš„ 48x48px æ­£æ–¹å½¢é …ç›® + pill å½¢ active ç‹€æ…‹</p>

                <!-- ç‹€æ…‹å±•ç¤º -->
                <h4 class="ds-group-label">STATE MATRIX</h4>
                <div style="display: flex; gap: 2rem; flex-wrap: wrap; align-items: flex-start; margin-bottom: 2rem;">
                    <!-- Default -->
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em;">Default</span>
                        <div style="background: var(--bg-card); border-radius: var(--fluent-radius-lg); padding: 0.5rem; border: 1px solid var(--border-light);">
                            <a class="ds-nav-rail-link" title="é è¨­"><i class="bi bi-star"></i></a>
                        </div>
                    </div>

                    <!-- Hover -->
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em;">Hover</span>
                        <div style="background: var(--bg-card); border-radius: var(--fluent-radius-lg); padding: 0.5rem; border: 1px solid var(--border-light);">
                            <a class="ds-nav-rail-link" title="æ‡¸åœ" style="background: color-mix(in oklch, var(--color-base-content) 8%, transparent); color: var(--color-base-content);"><i class="bi bi-star"></i></a>
                        </div>
                    </div>

                    <!-- Active -->
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em;">Active</span>
                        <div style="background: var(--bg-card); border-radius: var(--fluent-radius-lg); padding: 0.5rem; border: 1px solid var(--border-light);">
                            <a class="ds-nav-rail-link active" title="å•Ÿç”¨"><i class="bi bi-star-fill"></i></a>
                        </div>
                    </div>
                </div>

                <!-- æŠ€è¡“è¦æ ¼ -->
                <h4 class="ds-group-label">TECHNICAL SPECS</h4>
                <div style="padding: 1rem; background: var(--bg-body); border-radius: var(--fluent-radius-lg); border: 1px solid var(--border-light);">
                    <table style="width: 100%; font-size: 0.85rem;">
                        <tbody>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600; width: 40%;">å®¹å™¨å¯¬åº¦</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>60px</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">é …ç›®å°ºå¯¸</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>48px Ã— 48px</code> æ­£æ–¹å½¢</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Icon å°ºå¯¸</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>24px</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">é–“è·</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>0.5rem (8px)</code> å‚ç›´é–“è·</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Default åœ“è§’</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>var(--fluent-radius-md)</code> (4px)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Active åœ“è§’</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>var(--radius-pill)</code> (è† å›Šå½¢)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Active èƒŒæ™¯</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>color-mix(in oklch, var(--accent) 15%, transparent)</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Active é‚Šæ¡†</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>2px solid var(--accent)</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Active ç™¼å…‰</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>0 0 16px var(--glow-primary)</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem 0; color: var(--text-primary); font-weight: 600;">Hover èƒŒæ™¯</td>
                                <td style="padding: 0.5rem 0; color: var(--text-secondary);"><code>color-mix(in oklch, var(--color-base-content) 8%, transparent)</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <pre class="ds-code"><code>.ds-nav-rail {
  width: 60px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 1rem 6px;
}

.ds-nav-rail-link {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--fluent-radius-md);
}

.ds-nav-rail-link.active {
  background: color-mix(in oklch, var(--accent) 15%, transparent);
  color: var(--color-primary-content);
  border: 2px solid var(--accent);
  border-radius: var(--radius-pill);
  box-shadow: 0 0 16px var(--glow-primary);
}</code></pre>
            </div>
        </section>

        <!-- å€å¡Š 10: Rotating Border Effect (accent-bar æ¨£å¼) -->
        <section id="ds-rotating-border" class="ds-section accent-bar">
            <h2>Rotating Border Effect</h2>
            <p class="ds-note">å–®å…‰é»æ—‹è½‰å¤–æ¡†ç‰¹æ•ˆï¼Œç”¨æ–¼æŒ‡ç¤ºã€Œæœ‰æœ¬åœ°åŒ¹é…ã€æˆ–ã€Œæœ‰å…§å®¹ã€ç‹€æ…‹</p>

            <!-- åŸºç¤å±•ç¤º -->
            <div class="ds-subsection">
                <h3>Basic Usage</h3>
                <p class="ds-desc">ç‚ºå…ƒç´ æ·»åŠ  <code>.rotating-border-spotlight</code> classï¼Œä¸¦ç”¨ <code>.active</code> å•Ÿç”¨æ—‹è½‰</p>
                <div class="ds-card-demo">
                    <div class="d-flex gap-3 flex-wrap align-items-center">
                        <!-- Inactive ç‹€æ…‹ -->
                        <div class="rotating-border-spotlight"
                             style="padding: 1.5rem 2rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <h5 style="margin: 0; color: var(--text-primary);">Inactive State</h5>
                            <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.875rem;">æ²’æœ‰æ—‹è½‰æ•ˆæœ</p>
                        </div>

                        <!-- Active ç‹€æ…‹ -->
                        <div class="rotating-border-spotlight active"
                             style="padding: 1.5rem 2rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <h5 style="margin: 0; color: var(--text-primary);">Active State</h5>
                            <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.875rem;">æ­£åœ¨æ—‹è½‰</p>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>&lt;div class="rotating-border-spotlight active"&gt;
  &lt;!-- å…§å®¹ --&gt;
&lt;/div&gt;</code></pre>
            </div>

            <!-- æ‡‰ç”¨å ´æ™¯ -->
            <div class="ds-subsection">
                <h3>Use Cases</h3>
                <p class="ds-desc">å¯¦éš›æ‡‰ç”¨å ´æ™¯å±•ç¤º</p>

                <!-- å ´æ™¯ 1: Card -->
                <h4 class="ds-variant-label" style="margin-top: 1.5rem; font-size: 1rem;">1. Card with Local Match</h4>
                <div class="ds-card-demo">
                    <div class="rotating-border-spotlight active"
                         style="max-width: 280px; background: var(--bg-card); border-radius: var(--fluent-radius-xl, 12px); box-shadow: var(--fluent-shadow-4);">
                        <div style="aspect-ratio: 16/9; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-top-left-radius: var(--fluent-radius-xl, 12px); border-top-right-radius: var(--fluent-radius-xl, 12px); overflow: hidden;">
                            <img src="/static/img/demo/sone-103.jpg" alt="cover" style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div style="padding: 1rem;">
                            <div style="font-weight: 600; color: var(--accent); margin-bottom: 0.25rem;">SONE-103</div>
                            <div style="font-size: 0.875rem; color: var(--text-secondary);">2024-01-15 Â· æœ¬åœ°åŒ¹é…ï¼ˆä»¥å¤–æ¡†æç¤ºï¼‰</div>
                        </div>
                    </div>
                </div>

                <!-- å ´æ™¯ 2: Navigation Link -->
                <h4 class="ds-variant-label" style="margin-top: 1.5rem; font-size: 1rem;">2. Sidebar Navigation Link</h4>
                <div class="ds-card-demo">
                    <div style="background: var(--bg-card); padding: 1rem; border-radius: var(--radius-md); max-width: 200px;">
                        <nav style="display: flex; flex-direction: column; gap: 0.25rem;">
                            <a class="nav-link" href="#" style="color: var(--text-secondary); padding: 0.75rem; border-radius: 0.25rem; display: flex; align-items: center; text-decoration: none;">
                                <i class="bi bi-search" style="width: 24px;"></i>
                                <span style="margin-left: 0.5rem;">æœå°‹</span>
                            </a>
                            <a class="nav-link rotating-border-spotlight active" href="#" style="color: var(--text-secondary); padding: 0.75rem; border-radius: 0.25rem; display: flex; align-items: center; text-decoration: none; background-color: rgba(255, 255, 255, 0.1);">
                                <i class="bi bi-collection-play" style="width: 24px;"></i>
                                <span style="margin-left: 0.5rem;">ç€è¦½ (æœ‰å…§å®¹)</span>
                            </a>
                            <a class="nav-link" href="#" style="color: rgba(255, 255, 255, 0.8); padding: 0.75rem; border-radius: 0.25rem; display: flex; align-items: center; text-decoration: none;">
                                <i class="bi bi-gear" style="width: 24px;"></i>
                                <span style="margin-left: 0.5rem;">è¨­å®š</span>
                            </a>
                        </nav>
                    </div>
                </div>

                <!-- å ´æ™¯ 3: Info Section -->
                <h4 class="ds-variant-label" style="margin-top: 1.5rem; font-size: 1rem;">3. Search Result Info Section</h4>
                <div class="ds-card-demo">
                    <div class="rotating-border-spotlight active"
                         style="max-width: 600px; background: var(--bg-card); border-radius: var(--radius-md); padding: 1.5rem; box-shadow: var(--fluent-shadow-4);">
                        <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                            <i class="bi bi-folder-check" style="font-size: 1.5rem; color: var(--accent);"></i>
                            <h4 style="margin: 0; font-size: 1.125rem; font-weight: 600; color: var(--text-primary);">æœ¬åœ°è³‡æ–™åº«åŒ¹é…</h4>
                        </div>
                        <div style="padding-left: 2.25rem;">
                            <div style="margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.875rem;">
                                <span style="color: var(--text-primary); font-weight: 600;">æª”æ¡ˆï¼š</span>
                                /Users/username/Videos/SONE-103.mp4
                            </div>
                            <div style="color: var(--text-secondary); font-size: 0.875rem;">
                                <span style="color: var(--text-primary); font-weight: 600;">å¤§å°ï¼š</span>
                                2.4 GB
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æŠ€è¡“è¦æ ¼ -->
            <div class="ds-subsection">
                <h3>Technical Specs</h3>
                <div class="ds-card-demo">
                    <table class="table table-sm" style="max-width: 600px; margin: 0;">
                        <tbody>
                            <tr>
                                <td style="width: 30%; font-weight: 600; color: var(--text-primary);">æ—‹è½‰é€Ÿåº¦</td>
                                <td style="color: var(--text-secondary);">2.5 ç§’/åœˆ</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600; color: var(--text-primary);">å…‰é»è§’åº¦</td>
                                <td style="color: var(--text-secondary);">30Â° æ ¸å¿ƒ + 30Â° æ‹–å°¾ = 60Â° ç¸½é•·</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600; color: var(--text-primary);">Light Mode é€æ˜åº¦</td>
                                <td style="color: var(--text-secondary);">0.6 (æ ¸å¿ƒ) / 0.3 (æ‹–å°¾)</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600; color: var(--text-primary);">Dark Mode é€æ˜åº¦</td>
                                <td style="color: var(--text-secondary);">0.7 (æ ¸å¿ƒ) / 0.4 (æ‹–å°¾)</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600; color: var(--text-primary);">é¡è‰²ä¾†æº</td>
                                <td style="color: var(--text-secondary);">å»¶çºŒ <code>--accent</code> è—è‰²ç³»</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600; color: var(--text-primary);">ç€è¦½å™¨æ”¯æ´</td>
                                <td style="color: var(--text-secondary);">Chrome 85+, Edge 85+, Safari 15.4+, Firefox 128+</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- è®Šé«”é¸é … -->
            <div class="ds-subsection">
                <h3>Speed Variants (Optional)</h3>
                <p class="ds-desc">å¯é¸çš„é€Ÿåº¦è®Šé«”ï¼Œç”¨æ–¼ä¸åŒå¼·èª¿ç¨‹åº¦</p>
                <div class="ds-card-demo">
                    <div class="d-flex gap-3 flex-wrap">
                        <div class="rotating-border-spotlight speed-slow active"
                             style="padding: 1rem 1.5rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <small style="color: var(--text-muted);">Slow (4s)</small>
                        </div>
                        <div class="rotating-border-spotlight active"
                             style="padding: 1rem 1.5rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <small style="color: var(--text-muted);">Normal (2.5s)</small>
                        </div>
                        <div class="rotating-border-spotlight speed-fast active"
                             style="padding: 1rem 1.5rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <small style="color: var(--text-muted);">Fast (1.5s)</small>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>&lt;!-- æ…¢é€Ÿæ—‹è½‰ --&gt;
&lt;div class="rotating-border-spotlight speed-slow active"&gt;...&lt;/div&gt;

&lt;!-- å¿«é€Ÿæ—‹è½‰ --&gt;
&lt;div class="rotating-border-spotlight speed-fast active"&gt;...&lt;/div&gt;</code></pre>
            </div>

            <!-- Once Variants -->
            <div class="ds-subsection">
                <h3>Once Variants</h3>
                <p class="ds-desc">å–®æ¬¡æ—‹è½‰ modifierï¼Œå‹•ç•«æ’­æ”¾å®Œå¾Œè‡ªå‹•åœæ­¢ï¼Œé©ç”¨æ–¼æç¤ºé¡å ´æ™¯</p>
                <div class="ds-card-demo">
                    <div class="d-flex gap-3 flex-wrap align-items-center">
                        <div class="rotating-border-spotlight active once"
                             style="padding: 1rem 1.5rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <small style="color: var(--text-muted);">.onceï¼ˆ5 åœˆåœæ­¢ï¼‰</small>
                        </div>
                        <div class="rotating-border-spotlight active pulse-once"
                             style="padding: 1rem 1.5rem; background: var(--bg-card); border-radius: var(--radius-md);">
                            <small style="color: var(--text-muted);">.pulse-onceï¼ˆ1 åœˆåœæ­¢ï¼‰</small>
                        </div>
                    </div>
                </div>
                <pre class="ds-code"><code>&lt;!-- æœ¬åœ°åŒ¹é…æç¤ºï¼šæ—‹è½‰ 5 åœˆå¾Œåœæ­¢ --&gt;
&lt;div class="rotating-border-spotlight active once"&gt;...&lt;/div&gt;

&lt;!-- Sidebar äº‹ä»¶è§¸ç™¼ï¼šæ—‹è½‰ 1 åœˆå¾Œåœæ­¢ --&gt;
&lt;div class="rotating-border-spotlight active pulse-once"&gt;...&lt;/div&gt;</code></pre>
            </div>

            <!-- ç„¡éšœç¤™èˆ‡é™ç´š -->
            <div class="ds-subsection">
                <h3>Accessibility & Fallback</h3>
                <div class="alert alert-info" role="alert" style="margin-bottom: 1rem;">
                    <i class="bi bi-info-circle"></i> <strong>prefers-reduced-motion</strong>ï¼šå°Šé‡ä½¿ç”¨è€…åå¥½ï¼Œåœç”¨å‹•ç•«æ”¹ç‚ºéœæ…‹ç™¼å…‰é‚Šæ¡†
                </div>
                <div class="alert alert-warning" role="alert">
                    <i class="bi bi-exclamation-triangle"></i> <strong>ç€è¦½å™¨é™ç´š</strong>ï¼šä¸æ”¯æ´ <code>conic-gradient</code> æ™‚é™ç´šç‚ºéœæ…‹ <code>box-shadow</code> é‚Šæ¡†
                </div>
            </div>
        </section>

        <!-- å€å¡Š 11: Feedback (glass æ¨£å¼) -->
        <section id="ds-feedback" class="ds-section glass">
            <h2>Feedback</h2>

            <div class="ds-subsection">
                <h3>Alert / Badge</h3>
                <div class="ds-feedback-row">
                    <div class="alert alert-warning" role="alert">
                        <i class="bi bi-exclamation-triangle"></i> è­¦å‘Šè¨Šæ¯
                    </div>
                    <span class="badge badge-primary">Badge</span>
                    <span class="badge badge-error">éŒ¯èª¤</span>
                    <span class="badge badge-success">æˆåŠŸ</span>
                </div>
            </div>

            <div class="ds-subsection">
                <h3>Toast</h3>
                <p class="ds-desc">
                    <code>toast-msg</code> å’Œ <code>source-toast-inline</code> ç‚ºèˆŠç‰ˆå¯¦ä½œï¼Œå·²æ£„ç”¨ã€‚
                    æ¨™æº– Toast å¯¦ä½œç‚º <code>fluent-toast</code>ï¼Œè«‹åƒè¦‹
                    <a href="#ds-toasts" style="color: var(--color-primary);">Toasts section</a>ã€‚
                </p>
            </div>

            <div class="ds-subsection">
                <h3>Progress Bar</h3>
                <p class="ds-desc">
                    <code>detail-progress</code> å’Œ <code>batch-progress</code> çš„å®Œæ•´å±•ç¤ºï¼ˆå« code snippetï¼‰
                    è«‹åƒè¦‹ <a href="#ds-progress" style="color: var(--color-primary);">Progress &amp; Feedback section</a>ã€‚
                </p>
            </div>

            <div class="ds-subsection">
                <h3>Spinner</h3>
                <div class="ds-feedback-row">
                    <span class="loading loading-spinner loading-sm"></span>
                    <span class="loading loading-spinner"></span>
                    <button class="btn btn-primary" disabled>
                        <span class="loading loading-spinner loading-sm"></span> è¼‰å…¥ä¸­...
                    </button>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- TOC Active State Script + Dynamic Color Hex -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // TOC Active State
    const tocLinks = document.querySelectorAll('.ds-toc a');
    const sections = document.querySelectorAll('.ds-section');

    function updateActiveLink() {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (window.scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });

        tocLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === '#' + current) {
                link.classList.add('active');
            }
        });
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink();

    // Dynamic Color Hex Values
    function colorToHex(colorValue) {
        // Create a temporary element to get computed RGB
        const temp = document.createElement('div');
        temp.style.color = colorValue;
        temp.style.visibility = 'hidden';
        temp.style.position = 'absolute';
        document.body.appendChild(temp);
        const computed = getComputedStyle(temp).color;
        document.body.removeChild(temp);

        // Match both rgb() and rgba() formats
        // Modern browsers may return "rgba(r, g, b, a)" or "rgb(r g b / a)"
        const rgbaMatch = computed.match(/rgba?\((\d+)[,\s]+(\d+)[,\s]+(\d+)(?:[,\s/]+([0-9.]+))?\)/);

        if (rgbaMatch) {
            const r = parseInt(rgbaMatch[1]);
            const g = parseInt(rgbaMatch[2]);
            const b = parseInt(rgbaMatch[3]);
            const a = rgbaMatch[4] !== undefined ? parseFloat(rgbaMatch[4]) : 1;

            const rHex = r.toString(16).padStart(2, '0');
            const gHex = g.toString(16).padStart(2, '0');
            const bHex = b.toString(16).padStart(2, '0');

            // If alpha is not 1, show with alpha indicator
            if (a < 0.999) {
                const alphaPercent = Math.round(a * 100);
                return `#${rHex}${gHex}${bHex} ${alphaPercent}%`;
            }

            return `#${rHex}${gHex}${bHex}`;
        }

        // Handle color(srgb r g b / a) format (modern browsers)
        const srgbMatch = computed.match(/color\(srgb\s+([0-9.]+)\s+([0-9.]+)\s+([0-9.]+)(?:\s*\/\s*([0-9.]+))?\)/);

        if (srgbMatch) {
            const r = Math.round(parseFloat(srgbMatch[1]) * 255);
            const g = Math.round(parseFloat(srgbMatch[2]) * 255);
            const b = Math.round(parseFloat(srgbMatch[3]) * 255);
            const a = srgbMatch[4] !== undefined ? parseFloat(srgbMatch[4]) : 1;

            const rHex = r.toString(16).padStart(2, '0');
            const gHex = g.toString(16).padStart(2, '0');
            const bHex = b.toString(16).padStart(2, '0');

            if (a < 0.999) {
                const alphaPercent = Math.round(a * 100);
                return `#${rHex}${gHex}${bHex} ${alphaPercent}%`;
            }

            return `#${rHex}${gHex}${bHex}`;
        }

        // Fallback: return original value if conversion fails
        return colorValue;
    }

    function updateColorHex() {
        const style = getComputedStyle(document.documentElement);
        document.querySelectorAll('.ds-color-hex[data-var]').forEach(el => {
            const varName = el.dataset.var;
            const value = style.getPropertyValue(varName).trim();

            // Handle different color formats
            if (value.startsWith('rgb')) {
                // Direct RGB/RGBA
                const match = value.match(/rgba?\((\d+)[,\s]+(\d+)[,\s]+(\d+)/);
                if (match) {
                    const r = parseInt(match[1]).toString(16).padStart(2, '0');
                    const g = parseInt(match[2]).toString(16).padStart(2, '0');
                    const b = parseInt(match[3]).toString(16).padStart(2, '0');
                    el.textContent = `#${r}${g}${b}`;
                }
            } else if (value.startsWith('oklch') || value.startsWith('color-mix')) {
                // OKLCH or color-mix: use temporary element
                el.textContent = colorToHex(value);
            } else if (value.startsWith('#')) {
                // Already HEX
                el.textContent = value;
            } else {
                // Unknown format: display as-is
                el.textContent = value;
            }
        });
    }

    // Initial update
    updateColorHex();

    // Watch for theme changes via MutationObserver on html element
    const htmlEl = document.documentElement;
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.attributeName === 'data-theme') {
                // Delay to let CSS variables update
                setTimeout(updateColorHex, 50);
            }
        });
    });
    observer.observe(htmlEl, { attributes: true, attributeFilter: ['data-theme'] });
});
</script>
{% endblock %}
